<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>FastStream â€“ Movies</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- SEO -->
  <meta name="description" content="Watch trending, popular and latest movies online">
  <meta name="keywords" content="movies, trending movies, latest movies">

  <!-- CSS -->
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- HEADER -->
  <header class="header">
    <div class="logo">ðŸŽ¬ FastStream</div>

    <input
      type="text"
      id="searchInput"
      placeholder="Search movies..."
    />
  </header>

  <!-- MAIN -->
  <main>
    <h2 class="section-title">Popular Movies</h2>
    <div class="movie-grid" id="movieGrid">
      <p class="loading">Loading movies...</p>
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="footer">
    <p>Â© 2026 FastStream</p>
  </footer>

  <!-- JS -->
  <script>
    const API_KEY = "cc9374659de08b939499a50af4715216";
    const BASE_URL = "https://api.themoviedb.org/3";
    const IMG_URL = "https://image.tmdb.org/t/p/w500";

    const movieGrid = document.getElementById("movieGrid");
    const searchInput = document.getElementById("searchInput");

    // Fetch Popular Movies
    function loadMovies() {
      fetch(`${BASE_URL}/movie/popular?api_key=${API_KEY}`)
        .then(res => res.json())
        .then(data => {
          showMovies(data.results);
        });
    }

    // Show Movies
    function showMovies(movies) {
      movieGrid.innerHTML = "";
      movies.forEach(movie => {
        if (!movie.poster_path) return;

        movieGrid.innerHTML += `
          <a href="movie.html?id=${movie.id}" class="movie-card">
            <img src="${IMG_URL + movie.poster_path}" alt="${movie.title}">
            <h4>${movie.title}</h4>
          </a>
        `;
      });
    }

    // Search Movies
    searchInput.addEventListener("keyup", () => {
      const query = searchInput.value.trim();
      if (query === "") {
        loadMovies();
        return;
      }

      fetch(`${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}`)
        .then(res => res.json())
        .then(data => {
          showMovies(data.results);
        });
    });

    // Init
    loadMovies();
  </script>

</body>
</html>
